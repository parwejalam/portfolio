import{b as r}from"./chunk-PZWUPUS2.js";import"./chunk-HKUNN5OK.js";import{P as u,aa as d,q as s}from"./chunk-6FL7R2MJ.js";import{f as o}from"./chunk-EQDQRRRY.js";var c=class{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return o(this,null,function*(){let{Emitters:n}=yield import("./chunk-KRQAFIM5.js");return new n(this._engine,e)})}loadOptions(e,n){if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;n?.emitters&&(e.emitters=d(n.emitters,t=>{let i=new r;return i.load(t),i}));let a=n?.interactivity?.modes?.emitters;if(a)if(s(a))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:a.map(t=>{let i=new r;return i.load(t),i})};else{let t=a;if(t.value!==void 0)if(s(t.value))e.interactivity.modes.emitters={random:{count:t.random.count??1,enable:t.random.enable??!1},value:t.value.map(m=>{let l=new r;return l.load(m),l})};else{let m=new r;m.load(t.value),e.interactivity.modes.emitters={random:{count:t.random.count??1,enable:t.random.enable??!1},value:m}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new r}).value.load(a)}}needsPlugin(e){if(!e)return!1;let n=e.emitters;return s(n)&&!!n.length||n!==void 0||!!e.interactivity?.events?.onClick?.mode&&u("emitter",e.interactivity.events.onClick.mode)}};export{c as EmittersPlugin};
