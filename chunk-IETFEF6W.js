import{a as g}from"./chunk-R3JPMZDA.js";import{a as x}from"./chunk-HKUNN5OK.js";import{B as b,Ka as m,P as u,f as y,s as h,u as k,w as M}from"./chunk-6FL7R2MJ.js";import"./chunk-EQDQRRRY.js";var R=1,T=1,E=0;function O(o,i,t,e,c){let a=o.actualOptions.interactivity.modes.attract;if(!a)return;let r=o.particles.quadTree.query(e,c);for(let s of r){let{dx:f,dy:n,distance:l}=b(s.position,i),p=a.speed*a.factor,v=M(k(a.easing)(T-l/t)*p,R,a.maxSpeed),P=h.create(l?f/l*v:p,l?n/l*v:p);s.position.subFrom(P)}}function A(o,i){o.attract||(o.attract={particles:[]});let{attract:t}=o;if(t.finish||(t.count||(t.count=0),t.count++,t.count===o.particles.count&&(t.finish=!0)),t.clicking){let e=o.interactivity.mouse.clickPosition,c=o.retina.attractModeDistance;if(!c||c<E||!e)return;O(o,e,c,new m(e.x,e.y,c),a=>i(a))}else t.clicking===!1&&(t.particles=[])}function C(o,i){let t=o.interactivity.mouse.position,e=o.retina.attractModeDistance;!e||e<E||!t||O(o,t,e,new m(t.x,t.y,e),c=>i(c))}var d="attract",D=class extends x{constructor(i,t){super(t),this._engine=i,t.attract||(t.attract={particles:[]}),this.handleClickMode=e=>{let c=this.container.actualOptions,a=c.interactivity.modes.attract;if(!(!a||e!==d)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(let r of t.attract.particles)this.isEnabled(r)&&r.velocity.setTo(r.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*1e3)}}}clear(){}init(){let i=this.container,t=i.actualOptions.interactivity.modes.attract;t&&(i.retina.attractModeDistance=t.distance*i.retina.pixelRatio)}interact(){let i=this.container,t=i.actualOptions,e=i.interactivity.status===y,c=t.interactivity.events,{enable:a,mode:r}=c.onHover,{enable:s,mode:f}=c.onClick;e&&a&&u(d,r)?C(this.container,n=>this.isEnabled(n)):s&&u(d,f)&&A(this.container,n=>this.isEnabled(n))}isEnabled(i){let t=this.container,e=t.actualOptions,c=t.interactivity.mouse,a=(i?.interactivity??e.interactivity).events;if((!c.position||!a.onHover.enable)&&(!c.clickPosition||!a.onClick.enable))return!1;let r=a.onHover.mode,s=a.onClick.mode;return u(d,r)||u(d,s)}loadModeOptions(i,...t){i.attract||(i.attract=new g);for(let e of t)i.attract.load(e?.attract)}reset(){}};export{D as Attractor};
