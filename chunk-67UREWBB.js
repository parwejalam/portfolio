import{P as h,Q as x,aa as m,ba as f}from"./chunk-6FL7R2MJ.js";import{f as u}from"./chunk-EQDQRRRY.js";var g=2,y=.5;function w(r){let{context:n,particle:t,radius:i,opacity:a}=r,e=t.shapeData;if(!e)return;let s=e.value;if(s===void 0)return;t.text===void 0&&(t.text=f(s,t.randomIndexData));let o=t.text,l=e.style??"",D=e.weight??"400",F=Math.round(i)*g,I=e.font??"Verdana",M=t.shapeFill,c=o?.split(`
`);if(c){n.font=`${l} ${D} ${F}px "${I}"`,n.globalAlpha=a;for(let p=0;p<c.length;p++)T(n,c[p],i,a,p,M);n.globalAlpha=1}}function T(r,n,t,i,a,e){let s=n.length*t*y,o={x:-s,y:t*y},l=t*g;e?r.fillText(n,o.x,o.y+l*a):r.strokeText(n,o.x,o.y+l*a)}var d=["text","character","char","multiline-text"],O=class{draw(n){w(n)}init(n){return u(this,null,function*(){let t=n.actualOptions;if(d.find(i=>h(i,t.particles.shape.type))){let i=d.map(e=>t.particles.shape.options[e]).find(e=>!!e),a=[];m(i,e=>{a.push(x(e.font,e.weight))}),yield Promise.all(a)}})}particleInit(n,t){if(!t.shape||!d.includes(t.shape))return;let i=t.shapeData;if(i===void 0)return;let a=i.value;a!==void 0&&(t.text=f(a,t.randomIndexData))}};export{d as a,O as b};
