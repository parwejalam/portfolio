import"./chunk-HKUNN5OK.js";import{B as b,C as z,v as h,w as g,y as u,z as F}from"./chunk-6FL7R2MJ.js";import"./chunk-EQDQRRRY.js";var l=.5,r=0,d=1,D=60,M=0,k=.01;function R(n){let o=n.initialPosition,{dx:s,dy:i}=b(o,n.position),e=Math.abs(s),t=Math.abs(i),{maxDistance:a}=n.retina,y=a.horizontal,v=a.vertical;if(!y&&!v)return;let x=(y&&e>=y)??!1,m=(v&&t>=v)??!1;if((x||m)&&!n.misplaced)n.misplaced=!!y&&e>y||!!v&&t>v,y&&(n.velocity.x=n.velocity.y*l-n.velocity.x),v&&(n.velocity.y=n.velocity.x*l-n.velocity.y);else if((!y||e<y)&&(!v||t<v)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){let f=n.position,c=n.velocity;y&&(f.x<o.x&&c.x<r||f.x>o.x&&c.x>r)&&(c.x*=-h()),v&&(f.y<o.y&&c.y<r||f.y>o.y&&c.y>r)&&(c.y*=-h())}}function P(n,o,s,i,e,t){A(n,t);let a=n.gravity,y=a?.enable&&a.inverse?-d:d;e&&s&&(n.velocity.x+=e*t.factor/(D*s)),a?.enable&&s&&(n.velocity.y+=y*(a.acceleration*t.factor)/(D*s));let v=n.moveDecay;n.velocity.multTo(v);let x=n.velocity.mult(s);a?.enable&&i>r&&(!a.inverse&&x.y>=r&&x.y>=i||a.inverse&&x.y<=r&&x.y<=-i)&&(x.y=y*i,s&&(n.velocity.y=x.y/s));let m=n.options.zIndex,f=(d-n.zIndexFactor)**m.velocityRate;x.multTo(f);let{position:c}=n;c.addTo(x),o.vibrate&&(c.x+=Math.sin(c.x*Math.cos(c.y)),c.y+=Math.cos(c.y*Math.sin(c.x)))}function w(n,o){let s=n.container;if(!n.spin)return;let i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;let e=Math.max(s.canvas.size.width,s.canvas.size.height),t=e*l;n.spin.radius>t?(n.spin.radius=t,n.spin.acceleration*=-d):n.spin.radius<M&&(n.spin.radius=M,n.spin.acceleration*=-d),n.spin.angle+=o*k*(d-n.spin.radius/e)}function A(n,o){let s=n.options,i=s.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=o.value;return}let t=n.pathGenerator?.generate(n,o);t&&n.velocity.addTo(t),i.clamp&&(n.velocity.x=g(n.velocity.x,-d,d),n.velocity.y=g(n.velocity.y,-d,d)),n.lastPathTime-=n.pathDelay}function O(n){return n.slow.inRange?n.slow.factor:d}function S(n){let o=n.container,s=n.options,i=s.move.spin;if(!i.enable)return;let e=i.position??{x:50,y:50},t=.01,a={x:e.x*t*o.canvas.size.width,y:e.y*t*o.canvas.size.height},y=n.getPosition(),v=z(y,a),x=u(i.acceleration);n.retina.spinAcceleration=x*o.retina.pixelRatio;let m=0;n.spin={center:a,direction:n.velocity.x>=m?"clockwise":"counter-clockwise",angle:n.velocity.angle,radius:v,acceleration:n.retina.spinAcceleration}}var E=2,I=1,C=1,T=class{init(o){let s=o.options,i=s.move.gravity;o.gravity={enable:i.enable,acceleration:u(i.acceleration),inverse:i.inverse},S(o)}isEnabled(o){return!o.destroyed&&o.options.move.enable}move(o,s){let i=o.options,e=i.move;if(!e.enable)return;let t=o.container,a=t.retina.pixelRatio;o.retina.moveSpeed??=u(e.speed)*a,o.retina.moveDrift??=u(o.options.move.drift)*a;let y=O(o),v=o.retina.moveSpeed*t.retina.reduceFactor,x=o.retina.moveDrift,m=F(i.size.value)*a,f=e.size?o.getRadius()/m:I,c=s.factor||C,p=v*f*y*c/E,V=o.retina.maxSpeed??t.retina.maxSpeed;e.spin.enable?w(o,p):P(o,e,p,V,x,s),R(o)}};export{T as BaseMover};
