<section id="contact" class="py-5">
  <div class="container">
    <!-- Section Header -->
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center" data-aos="fade-up" data-aos-duration="1000">
        <h1 class="display-4 fw-bold text-danger mb-3">
          <span class="position-relative">
            Let's Connect
            <span class="underline-effect"></span>
          </span>
        </h1>
        <p class="lead text-muted">Ready to bring your ideas to life? Let's discuss your next project!</p>
      </div>
    </div>

    <!-- Main Content -->
    <div class="row g-5 align-items-start">
      <!-- Contact Information -->
      <div class="col-lg-5" data-aos="fade-right" data-aos-duration="1200">
        <div class="contact-info-card h-100">
          <div class="card-header mb-4">
            <h3 class="h4 fw-bold mb-3">Get in Touch</h3>
            <p class="text-muted">I'm always interested in hearing about new opportunities and exciting projects.</p>
          </div>

          <div class="contact-details">
            <!-- Email -->
            <div class="contact-item mb-4">
              <div class="contact-icon">
                <fa-icon [icon]="emailIcon" class="text-danger"></fa-icon>
              </div>
              <div class="contact-text">
                <h5 class="mb-1">Email</h5>
                <a href="mailto:parwejalamgt@gmail.com" class="text-decoration-none">
                  parwejalamgt&#64;gmail.com
                </a>
              </div>
            </div>

            <!-- Location -->
            <div class="contact-item mb-4">
              <div class="contact-icon">
                <fa-icon [icon]="locationIcon" class="text-danger"></fa-icon>
              </div>
              <div class="contact-text">
                <h5 class="mb-1">Location</h5>
                <p class="mb-0 text-muted">India</p>
              </div>
            </div>

            <!-- Response Time -->
            <div class="contact-item mb-4">
              <div class="contact-icon">
                <fa-icon [icon]="clockIcon" class="text-danger"></fa-icon>
              </div>
              <div class="contact-text">
                <h5 class="mb-1">Response Time</h5>
                <p class="mb-0 text-muted">As soon as possible!</p>
              </div>
            </div>
          </div>

          <!-- Download CV -->
          <div class="mt-4">
            <a href="assets/ParwejAlamCV.pdf" download class="btn-download">
              <fa-icon [icon]="downloadIcon" class="me-2"></fa-icon>
              Download Resume
            </a>
          </div>

          <!-- Social Links -->
          <div class="social-links mt-4">
            <h5 class="mb-3">Follow Me</h5>
            <div class="d-flex gap-3">
              <div class="social-icon" *ngFor="let social of socialIcons">
                <a [href]="social.link" target="_blank" class="text-decoration-none">
                  <fa-icon [icon]="social.icon"></fa-icon>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="col-lg-7" data-aos="fade-left" data-aos-duration="1200">
        <div class="contact-form-card">
          <div class="card-header mb-4">
            <h3 class="h4 fw-bold">Send Message</h3>
            <p class="text-muted">Feel free to reach out for collaborations or just a friendly hello!</p>
          </div>

          <form class="contact-form" #contactForm="ngForm" (ngSubmit)="submitEmail(contactForm)">
            <div class="row g-3">
              <!-- Name field -->
              <div class="col-md-6">
                <div class="form-floating">
                  <input 
                    name="name" 
                    [(ngModel)]="contactFormValues.name" 
                    #name="ngModel" 
                    id="nameInput" 
                    type="text"
                    placeholder="" 
                    class="custom-input" 
                    required 
                    minlength="2" />
                  <label for="nameInput">Full Name *</label>
                </div>
                <div *ngIf="name.errors && name.touched && name.dirty" class="form-text text-danger mt-1">
                  <small><fa-icon [icon]="warningIcon" class="me-1"></fa-icon>Name is required</small>
                </div>
              </div>

              <!-- Email field -->
              <div class="col-md-6">
                <div class="form-floating">
                  <input 
                    name="email" 
                    [(ngModel)]="contactFormValues.email" 
                    #email="ngModel" 
                    id="emailInput" 
                    type="email"
                    placeholder="" 
                    class="custom-input" 
                    required
                    pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?" />
                  <label for="emailInput">Email Address *</label>
                </div>
                <div *ngIf="email.errors && email.touched && email.dirty" class="form-text text-danger mt-1">
                  <small><fa-icon [icon]="warningIcon" class="me-1"></fa-icon>Please enter a valid email</small>
                </div>
              </div>

              <!-- Subject field -->
              <div class="col-12">
                <div class="form-floating">
                  <input 
                    name="subject" 
                    [(ngModel)]="contactFormValues.subject" 
                    #subject="ngModel" 
                    id="subjectInput" 
                    type="text"
                    placeholder="" 
                    class="custom-input" 
                    required />
                  <label for="subjectInput">Subject *</label>
                </div>
                <div *ngIf="subject.errors && subject.touched && subject.dirty" class="form-text text-danger mt-1">
                  <small><fa-icon [icon]="warningIcon" class="me-1"></fa-icon>Subject is required</small>
                </div>
              </div>

              <!-- Message field -->
              <div class="col-12">
                <div class="form-floating">
                  <textarea 
                    name="body" 
                    [(ngModel)]="contactFormValues.body" 
                    #body="ngModel" 
                    id="textArea"
                    class="custom-textarea" 
                    placeholder="" 
                    required 
                    minlength="20"
                    rows="6"></textarea>
                  <label for="textArea">Your Message *</label>
                </div>
                <div *ngIf="body.errors && body.touched && body.dirty" class="form-text text-danger mt-1">
                  <small><fa-icon [icon]="warningIcon" class="me-1"></fa-icon>Please write at least 20 characters</small>
                </div>
              </div>
            </div>

            <!-- Alert -->
            <div class="alert-container mt-3" [ngClass]="{ 'd-none': !showAlert }">
              <div [ngClass]="alertColor" class="custom-alert">
                <fa-icon [icon]="alertIcon" class="me-2"></fa-icon>
                {{ alertMessage }}
              </div>
            </div>

            <!-- Submit button -->
            <div class="text-center mt-4">
              <button 
                [disabled]="contactForm.invalid || onSubmit"
                class="btn-submit"
                type="submit">
                <ng-container *ngIf="onSubmit === false; else submittingEmail">
                  <fa-icon [icon]="sendIcon" class="me-2"></fa-icon>
                  Send Message
                </ng-container>
                <ng-template #submittingEmail>
                  <div class="spinner-border spinner-border-sm me-2" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                  Sending...
                </ng-template>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="contact-footer mt-5 pt-5">
    <div class="container">
      <div class="row justify-content-center text-center">
        <div class="col-lg-8">
          <div class="footer-content">
            <h3 class="fw-bold mb-3">Parwej Alam</h3>
            <p class="text-muted mb-3">Full Stack Developer | MEAN Stack Specialist</p>
            <p class="mb-3">
              <fa-icon [icon]="emailIcon" class="me-2"></fa-icon>
              <a href="mailto:parwejalamgt@gmail.com" class="text-decoration-none">
                parwejalamgt&#64;gmail.com
              </a>
            </p>
            
            <!-- Social Links in Footer -->
            <div class="footer-social mb-4">
              <div class="d-flex justify-content-center gap-3">
                <div class="social-icon" *ngFor="let social of socialIcons">
                  <a [href]="social.link" target="_blank" class="text-decoration-none">
                    <fa-icon [icon]="social.icon"></fa-icon>
                  </a>
                </div>
              </div>
            </div>
            
            <div class="copyright">
              <p class="mb-0 text-muted">
                <small>&copy; {{currentYear}} Parwej Alam. All rights reserved.</small>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
</section>